{"version":3,"sources":["D:/Project/Hirundo/web-hirundo/src/app/hirundo/login/login.component.html","D:/Project/Hirundo/web-hirundo/src/app/hirundo/login/login.component.scss","D:/Project/Hirundo/web-hirundo/src/app/hirundo/login/login.component.ts","D:/Project/Hirundo/web-hirundo/src/app/hirundo/login/login.module.ts","D:/Project/Hirundo/web-hirundo/src/app/hirundo/login/login.routes.ts"],"names":[],"mappings":"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","file":"login.module.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"page-header bg-login\\\">\\r\\n  <h1>Login</h1>\\r\\n</div>\\r\\n\\r\\n<section class=\\\"section-padding\\\">\\r\\n  <div class=\\\"container\\\">\\r\\n    <div class=\\\"login-form card\\\">\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"login(loginForm.value)\\\">\\r\\n          <div class=\\\"alert-success\\\" *ngIf=\\\"loginSuccessMsg\\\">{{loginSuccessMsg}}</div>\\r\\n          <div class=\\\"alert-danger\\\" *ngIf=\\\"loginErrorMsg\\\">{{loginErrorMsg}}</div>\\r\\n          <div class=\\\"md-form\\\">\\r\\n            <i class=\\\"fa fa-envelope prefix grey-text\\\"></i>\\r\\n            <input type=\\\"email\\\"  name=\\\"email\\\" placeholder=\\\"Your Email\\\" id=\\\"defaultForm-email\\\" formControlName=\\\"email\\\" class=\\\"form-control\\\" mdbActive>\\r\\n            <!-- <label for=\\\"defaultForm-email\\\">Your email</label> -->\\r\\n          </div>\\r\\n          <div class=\\\"md-form\\\">\\r\\n            <i class=\\\"fa fa-lock prefix grey-text\\\"></i>\\r\\n            <input type=\\\"password\\\" placeholder=\\\"Your Password\\\" id=\\\"defaultForm-pass\\\" formControlName=\\\"password\\\" class=\\\"form-control\\\" mdbActive>\\r\\n            <!-- <label for=\\\"defaultForm-pass\\\">Your password</label> -->\\r\\n          </div>\\r\\n          <div class=\\\"text-center\\\">\\r\\n            <button type=\\\"submit\\\" class=\\\"btn btn-default waves-light\\\" mdbRippleRadius [disabled]=\\\"!loginForm.valid || requestRunning\\\">Login</button>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</section>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Project/Hirundo/web-hirundo/src/app/hirundo/login/login.component.html\n// module id = ../../../../../src/app/hirundo/login/login.component.html\n// module chunks = login.module","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Project/Hirundo/web-hirundo/src/app/hirundo/login/login.component.scss\n// module id = ../../../../../src/app/hirundo/login/login.component.scss\n// module chunks = login.module","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { GlobalService } from '../global.service';\r\nimport { LoginService } from './login.service';\r\nimport { AppService } from '../../service/app.service';\r\nimport {Router} from \"@angular/router\";\r\n// import 'player.js';\r\n\r\ndeclare var player: any;\r\n@Component({\r\n    selector: 'app-login',\r\n    templateUrl: './login.component.html',\r\n    styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n    User: any = {};\r\n    loginForm: FormGroup;\r\n    loginError: boolean = false;\r\n    loginErrorMsg: string = '';\r\n    loginSuccessMsg: string = '';\r\n    requestRunning: boolean = false;\r\n    constructor(\r\n        public router : Router,\r\n        public appService: AppService,\r\n        private globalService: GlobalService,\r\n        private loginService: LoginService,\r\n    ) { \r\n        console.log(\"Login player called\");\r\n       \r\n    }\r\n\r\n    ngOnInit() {\r\n        this.createLoginForm();\r\n    }\r\n    private createLoginForm() {\r\n        this.loginForm = new FormGroup({\r\n            email: new FormControl('', Validators.required),\r\n            password: new FormControl('', Validators.required),\r\n        });\r\n    }\r\n    login(user): void {\r\n        this.requestRunning = true;\r\n        this.User.userName = user.email;\r\n        this.User.password = user.password;\r\n        this.User.deviceType = 'web';\r\n        this.loginService.login(this.User).then(data => {\r\n            player.playAudio();\r\n            console.log('login clicked');\r\n            setTimeout( function(){\r\n                player.pauseAudio();\r\n            }, 100);\r\n            this.loginSuccessMsg = 'Login success!';\r\n            document.cookie = \"token=\" + data.token;\r\n            localStorage.setItem('isLoggedin', 'true');\r\n            localStorage.setItem('currentUser', JSON.stringify(data.data));\r\n            localStorage.setItem('token', data.token);            \r\n            setTimeout(() => {\r\n                this.loginSuccessMsg = '';\r\n                if (data.data.userType === 3) {\r\n                    this.router.navigate(['/waiter']);\r\n                    // window.location.href = '/waiter';\r\n                } else {\r\n                    this.router.navigate(['/department']);\r\n                    // window.location.href = '/department';\r\n                }\r\n            }, 4000);\r\n        }).catch(error => {\r\n            this.requestRunning = false;\r\n            this.loginErrorMsg = error;\r\n            setTimeout(() => {\r\n                this.loginErrorMsg = '';\r\n            }, 4000);\r\n            localStorage.removeItem('isLoggedin');\r\n            localStorage.removeItem('currentUser');\r\n            localStorage.removeItem('token');\r\n            document.cookie = \"token=\" + '';\r\n        });\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Project/Hirundo/web-hirundo/src/app/hirundo/login/login.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LoginRouting } from './login.routes';\r\nimport { LoginComponent } from './login.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    LoginRouting,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n    ],\r\n  declarations: [LoginComponent]\r\n})\r\nexport class LoginModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Project/Hirundo/web-hirundo/src/app/hirundo/login/login.module.ts","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { LoginComponent } from './login.component';\r\n\r\nconst routes: Routes = [\r\n    { path: '', component: LoginComponent }\r\n];\r\n\r\n\r\nexport const LoginRouting: ModuleWithProviders = RouterModule.forChild(routes); \r\n\n\n\n// WEBPACK FOOTER //\n// D:/Project/Hirundo/web-hirundo/src/app/hirundo/login/login.routes.ts"],"sourceRoot":"webpack:///"}